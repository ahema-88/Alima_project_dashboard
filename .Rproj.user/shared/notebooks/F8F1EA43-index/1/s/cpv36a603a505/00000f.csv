"0","library(reactable)"
"0",""
"0","# Assuming tb_total_cases and tb_combined are your data frames"
"0",""
"0","# Join the data for total cases and treatment"
"0","tb_cases_treatment <- left_join(tb_total_cases, tb_combined,"
"0","                                by = c(""Country Name"", ""year"", ""Country Code""))"
"0",""
"0","# Create a sample data frame for demonstration"
"0","sample_data <- tb_cases_treatment %>%"
"0","  filter(year == 2021) %>%"
"0","  select(`Country Name`, total_cases, treatment_succesed)"
"0",""
"0","# Filter data for year 2021 and non-NA values for treatment_succesed and total_cases"
"0","tb_combined_2021 <- tb_cases_treatment %>%"
"0","  filter(year == ""2021"" & !is.na(treatment_succesed) & !is.na(total_cases))"
"0",""
"0","# Estimate the result in percentage"
"0","estimated_percentage_success <- mean(tb_combined_2021$treatment_succesed == 100, na.rm = TRUE) * 100"
"0",""
"0",""
"0","# Calculate percentage of countries with 100% treatment success rate"
"0","estimated_80_success <- mean(tb_combined_2021$treatment_succesed >= 80, na.rm = TRUE) * 100"
"0",""
"0","estimated_80_success <- round(estimated_80_success, 2)"
"0",""
"0","# calculate the country with the highest TB cases "
"0","tb_combined_2021 <- tb_combined_2021 %>%"
"0","  mutate(total_cases_2021 = as.numeric(total_cases_2021))"
"0",""
"0","highest_tb_cases_country <- tb_combined_2021 %>% "
"0","  arrange(-total_cases_2021) %>% "
"0","  head(1) %>% "
"0","  select(`Country Name`, total_cases_2021)"
"0",""
"0",""
"0","# Print the country with the highest TB cases"
"0",""
"0","# Print the estimated percentage"
"0","#print(paste(""Estimated Treatment Success Rate in 2021:"", round(estimated_percentage_success, 1), ""%""))"
"0",""
"0","#print(paste(""Estimated Treatment Success 80% in 2021:"", round(estimated_80_success, 1), ""%""))"
"0",""
"0","# Create the interactive table"
"0","#reactable(tb_combined_2021, searchable = TRUE, pagination = TRUE, striped = TRUE)"
"0",""
"0","tb_table <- reactable(tb_combined_2021)"
