"0","# Prepare data for visualization"
"0","plot_data <- tb_combined_2021 %>%"
"0","  filter(!is.na(treatment_succesed)) %>%"
"0","  group_by(`Country Name`) %>%"
"0","  summarize(total_treatment_succesed = sum(treatment_succesed, na.rm = TRUE)) %>%"
"0","  arrange(desc(total_treatment_succesed))"
"0",""
"0","data_plot_treatment_2021 <- plot_data %>%"
"0","  head(30) %>%"
"0","  mutate(`Country Name` = fct_reorder(`Country Name`, total_treatment_succesed, .desc = TRUE))"
"0",""
"0","# Plot TB treatment success for 2021"
"0","plot_treatment_2021 <- ggplot(data_plot_treatment_2021, aes(x = total_treatment_succesed, y = `Country Name`, fill = `Country Name`)) +"
"0","  geom_col() +"
"0","  labs(title = ""Top 30 Countries by TB Treatment Succeeded in 2021"", x = ""Total Treatment Succeeded"", y = ""Country"") +"
"0","  theme(legend.position = ""none"")"
"0",""
"0","plotly_treatment_2021 <- ggplotly(plot_treatment_2021)"
"0",""
